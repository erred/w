var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ba(a){if(a){for(var b=l,c=["Promise"],d=0;d<c.length-1;d++){var e=c[d];e in b||(b[e]={});b=b[e]}c=c[c.length-1];d=b[c];a=a(d);a!=d&&null!=a&&aa(b,c,{configurable:!0,writable:!0,value:a})}}function ca(){ca=function(){};l.Symbol||(l.Symbol=da)}
var da=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function m(){ca();var a=l.Symbol.iterator;a||(a=l.Symbol.iterator=l.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ea(this)}});m=function(){}}function ea(a){var b=0;return fa(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function fa(a){m();a={next:a};a[l.Symbol.iterator]=function(){return this};return a}
function ha(a){m();var b=a[Symbol.iterator];return b?b.call(a):ea(a)}
ba(function(a){function b(a){this.b=0;this.c=void 0;this.a=[];var b=this.f();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}}function c(){this.a=null}function d(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.b=function(a){null==this.a&&(this.a=[],this.f());this.a.push(a)};c.prototype.f=function(){var a=this;this.c(function(){a.h()})};var e=l.setTimeout;c.prototype.c=function(a){e(a,0)};c.prototype.h=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=
0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(F){this.g(F)}}}this.a=null};c.prototype.g=function(a){this.c(function(){throw a;})};b.prototype.f=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.m),reject:a(this.g)}};b.prototype.m=function(a){if(a===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.o(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=
!1}c?this.l(a):this.h(a)}};b.prototype.l=function(a){var b=void 0;try{b=a.then}catch(k){this.g(k);return}"function"==typeof b?this.u(b,a):this.h(a)};b.prototype.g=function(a){this.i(2,a)};b.prototype.h=function(a){this.i(1,a)};b.prototype.i=function(a,b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.c=b;this.j()};b.prototype.j=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)f.b(this.a[a]);this.a=null}};var f=new c;b.prototype.o=
function(a){var b=this.f();a.w(b.resolve,b.reject)};b.prototype.u=function(a,b){var c=this.f();try{a.call(b,c.resolve,c.reject)}catch(F){c.reject(F)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(xb){f(xb)}}:b}var e,f,g=new b(function(a,b){e=a;f=b});this.w(d(a,e),d(c,f));return g};b.prototype.catch=function(a){return this.then(void 0,a)};b.prototype.w=function(a,b){function c(){switch(d.b){case 1:a(d.c);break;case 2:b(d.c);break;default:throw Error("Unexpected state: "+
d.b);}}var d=this;null==this.a?f.b(c):this.a.push(c)};b.resolve=d;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var e=ha(a),f=e.next();!f.done;f=e.next())d(f.value).w(b,c)})};b.all=function(a){var c=ha(a),e=c.next();return e.done?d([]):new b(function(a,b){function f(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,d(e.value).w(f(g.length-1),b),e=c.next();while(!e.done)})};return b});var n=n||{},p=this;
function q(a){return"string"==typeof a}function r(a,b){a=a.split(".");b=b||p;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function t(){}
function u(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function v(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}
function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function w(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w=ka:w=la;return w.apply(null,arguments)}var ma=Date.now||function(){return+new Date};
function x(a,b){function c(){}c.prototype=b.prototype;a.T=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.V=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function na(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};function y(a){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}x(y,Error);y.prototype.name="CustomError";function oa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var pa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function z(a,b){return a<b?-1:a>b?1:0};function A(a,b){b.unshift(a);y.call(this,oa.apply(null,b));b.shift()}x(A,y);A.prototype.name="AssertionError";function qa(a,b){throw new A("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function ra(){this.j=null;this.i=[];this.l=0;this.b=sa;this.f=this.a=this.h=0;this.c=null;this.g=0}var sa=0;function ta(a,b,c,d){a.b=3;a.j="The stream is broken @"+a.l+"/"+c+". Error: "+d+". With input:\n"+b;throw Error(a.j);}
function ua(a,b){function c(a){0==a?g.h=a:128==a?g.h=a:ta(g,h,k,"invalid frame byte");g.b=1;g.a=0;g.f=0}function d(a){g.f++;g.a=(g.a<<8)+a;4==g.f&&(g.b=2,g.g=0,"undefined"!==typeof Uint8Array?g.c=new Uint8Array(g.a):g.c=Array(g.a),0==g.a&&f())}function e(a){g.c[g.g++]=a;g.g==g.a&&f()}function f(){var a={};a[g.h]=g.c;g.i.push(a);g.b=sa}for(var g=a,h=b instanceof Array?b:new Uint8Array(b),k=0;k<h.length;){switch(g.b){case 3:ta(g,h,k,"stream already broken");break;case sa:c(h[k]);break;case 1:d(h[k]);
break;case 2:e(h[k]);break;default:throw Error("unexpected parser state: "+g.b);}g.l++;k++}a=g.i;g.i=[];return 0<a.length?a:null};var va=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(q(a))return q(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function wa(a){a:{var b=xa;for(var c=a.length,d=q(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:q(a)?a.charAt(b):a[b]};var B;a:{var ya=p.navigator;if(ya){var za=ya.userAgent;if(za){B=za;break a}}B=""};function Aa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ca(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ba.length;f++)c=Ba[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Da(){0!=Ea&&(this[ia]||(this[ia]=++ja));this.G=this.G}var Ea=0;Da.prototype.G=!1;function Fa(a){Fa[" "](a);return a}Fa[" "]=t;function Ga(a,b){var c=Ha;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ia=-1!=B.indexOf("Opera"),C=-1!=B.indexOf("Trident")||-1!=B.indexOf("MSIE"),Ja=-1!=B.indexOf("Edge"),Ka=-1!=B.indexOf("Gecko")&&!(-1!=B.toLowerCase().indexOf("webkit")&&-1==B.indexOf("Edge"))&&!(-1!=B.indexOf("Trident")||-1!=B.indexOf("MSIE"))&&-1==B.indexOf("Edge"),La=-1!=B.toLowerCase().indexOf("webkit")&&-1==B.indexOf("Edge");function Ma(){var a=p.document;return a?a.documentMode:void 0}var D;
a:{var Na="",Oa=function(){var a=B;if(Ka)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ja)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(La)return/WebKit\/(\S+)/.exec(a);if(Ia)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Oa&&(Na=Oa?Oa[1]:"");if(C){var Pa=Ma();if(null!=Pa&&Pa>parseFloat(Na)){D=String(Pa);break a}}D=Na}var Ha={};
function Qa(a){return Ga(a,function(){for(var b=0,c=pa(String(D)).split("."),d=pa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=z(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||z(0==g[2].length,0==h[2].length)||z(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})}var Ra;var Sa=p.document;
Ra=Sa&&C?Ma()||("CSS1Compat"==Sa.compatMode?parseInt(D,10):5):void 0;var Ta=Object.freeze||function(a){return a};var Ua;(Ua=!C)||(Ua=9<=Number(Ra));var Va=Ua,Wa=C&&!Qa("9"),Xa=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});p.addEventListener("test",t,b);p.removeEventListener("test",t,b);return a}();function E(a,b){this.type=a;this.a=this.target=b}E.prototype.b=function(){};function G(a,b){E.call(this,a?a.type:"");this.relatedTarget=this.a=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.c=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;if(b=a.relatedTarget){if(Ka){a:{try{Fa(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:
"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;
this.pointerId=a.pointerId||0;this.pointerType=q(a.pointerType)?a.pointerType:Ya[a.pointerType]||"";this.c=a;a.defaultPrevented&&this.b()}}x(G,E);var Ya=Ta({2:"touch",3:"pen",4:"mouse"});G.prototype.b=function(){G.T.b.call(this);var a=this.c;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var H="closure_listenable_"+(1E6*Math.random()|0),Za=0;function $a(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.A=e;this.key=++Za;this.s=this.v=!1}function ab(a){a.s=!0;a.listener=null;a.proxy=null;a.src=null;a.A=null};function I(a){this.src=a;this.a={};this.b=0}I.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=bb(a,b,d,e);-1<g?(b=a[g],c||(b.v=!1)):(b=new $a(b,this.src,f,!!d,e),b.v=c,a.push(b));return b};function cb(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=va(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(ab(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}
function bb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.s&&f.listener==b&&f.capture==!!c&&f.A==d)return e}return-1};var db="closure_lm_"+(1E6*Math.random()|0),eb={},fb=0;function gb(a,b,c,d,e){if(d&&d.once)hb(a,b,c,d,e);else if("array"==u(b))for(var f=0;f<b.length;f++)gb(a,b[f],c,d,e);else c=ib(c),a&&a[H]?a.f.add(String(b),c,!1,v(d)?!!d.capture:!!d,e):jb(a,b,c,!1,d,e)}
function jb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=v(e)?!!e.capture:!!e,h=J(a);h||(a[db]=h=new I(a));c=h.add(b,c,d,g,f);if(!c.proxy){d=kb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Xa||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(lb(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");fb++}}
function kb(){var a=mb,b=Va?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function hb(a,b,c,d,e){if("array"==u(b))for(var f=0;f<b.length;f++)hb(a,b[f],c,d,e);else c=ib(c),a&&a[H]?a.f.add(String(b),c,!0,v(d)?!!d.capture:!!d,e):jb(a,b,c,!0,d,e)}
function nb(a,b,c,d,e){if("array"==u(b))for(var f=0;f<b.length;f++)nb(a,b[f],c,d,e);else(d=v(d)?!!d.capture:!!d,c=ib(c),a&&a[H])?(a=a.f,b=String(b).toString(),b in a.a&&(f=a.a[b],c=bb(f,c,d,e),-1<c&&(ab(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=J(a))&&(b=a.a[b.toString()],a=-1,b&&(a=bb(b,c,d,e)),(c=-1<a?b[a]:null)&&ob(c))}
function ob(a){if("number"!=typeof a&&a&&!a.s){var b=a.src;if(b&&b[H])cb(b.f,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(lb(c),d):b.addListener&&b.removeListener&&b.removeListener(d);fb--;(c=J(b))?(cb(c,a),0==c.b&&(c.src=null,b[db]=null)):ab(a)}}}function lb(a){return a in eb?eb[a]:eb[a]="on"+a}
function pb(a,b,c,d){var e=!0;if(a=J(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.s&&(f=qb(f,d),e=e&&!1!==f)}return e}function qb(a,b){var c=a.listener,d=a.A||a.src;a.v&&ob(a);return c.call(d,b)}
function mb(a,b){if(a.s)return!0;if(!Va){var c=b||r("window.event");b=new G(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.a;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.a=c[e];var f=pb(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.a=c[e],f=pb(c[e],a,!1,b),d=d&&f}return d}return qb(a,new G(b,this))}
function J(a){a=a[db];return a instanceof I?a:null}var rb="__closure_events_fn_"+(1E9*Math.random()>>>0);function ib(a){if("function"==u(a))return a;a[rb]||(a[rb]=function(b){return a.handleEvent(b)});return a[rb]};function K(){Da.call(this);this.f=new I(this);this.P=this}x(K,Da);K.prototype[H]=!0;K.prototype.removeEventListener=function(a,b,c,d){nb(this,a,b,c,d)};function L(a,b){a=a.P;var c=b.type||b;if(q(b))b=new E(b,a);else if(b instanceof E)b.target=b.target||a;else{var d=b;b=new E(c,a);Ca(b,d)}a=b.a=a;sb(a,c,!0,b);sb(a,c,!1,b)}
function sb(a,b,c,d){if(b=a.f.a[String(b)]){b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.s&&g.capture==c){var h=g.listener,k=g.A||g.src;g.v&&cb(a.f,g);e=!1!==h.call(k,d)&&e}}}};function tb(a,b,c){if("function"==u(a))c&&(a=w(a,c));else if(a&&"function"==typeof a.handleEvent)a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:p.setTimeout(a,b||0)};function ub(a,b,c){this.reset(a,b,c,void 0,void 0)}ub.prototype.a=null;var vb=0;ub.prototype.reset=function(a,b,c,d,e){"number"==typeof e||vb++;d||ma();delete this.a};function wb(a){this.f=a;this.b=this.c=this.a=null}function M(a,b){this.name=a;this.value=b}M.prototype.toString=function(){return this.name};var yb=new M("SEVERE",1E3),zb=new M("CONFIG",700),Ab=new M("FINE",500);function Bb(a){if(a.c)return a.c;if(a.a)return Bb(a.a);qa("Root logger has no level set.");return null}wb.prototype.log=function(a,b,c){if(a.value>=Bb(this).value)for("function"==u(b)&&(b=b()),a=new ub(a,String(b),this.f),c&&(a.a=c),c=this;c;)c=c.a};var Cb={},N=null;
function Db(a){N||(N=new wb(""),Cb[""]=N,N.c=zb);var b;if(!(b=Cb[a])){b=new wb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Db(a.substr(0,c));c.b||(c.b={});c.b[d]=b;b.a=c;Cb[a]=b}return b};function O(a,b){a&&a.log(Ab,b,void 0)};function Eb(){}Eb.prototype.a=null;function Fb(a){var b;(b=a.a)||(b={},Gb(a)&&(b[0]=!0,b[1]=!0),b=a.a=b);return b};var Hb;function Ib(){}x(Ib,Eb);function Jb(a){return(a=Gb(a))?new ActiveXObject(a):new XMLHttpRequest}function Gb(a){if(!a.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.b=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.b}Hb=new Ib;function P(a,b){this.b={};this.a=[];this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&Kb(this,a)}P.prototype.g=function(){Q(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};P.prototype.f=function(){Q(this);return this.a.concat()};function Lb(a){a.b={};a.a.length=0;a.c=0}
function Q(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];R(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){var e={};for(c=b=0;b<a.a.length;)d=a.a[b],R(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}P.prototype.get=function(a,b){return R(this.b,a)?this.b[a]:b};P.prototype.set=function(a,b){R(this.b,a)||(this.c++,this.a.push(a));this.b[a]=b};
function Kb(a,b){if(b instanceof P){var c=b.f();b=b.g()}else{c=[];var d=0;for(e in b)c[d++]=e;d=[];var e=0;for(var f in b)d[e++]=b[f];b=d}for(f=0;f<c.length;f++)a.set(c[f],b[f])}P.prototype.forEach=function(a,b){for(var c=this.f(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};function Mb(a){Q(a);for(var b={},c=0;c<a.a.length;c++){var d=a.a[c];b[d]=a.b[d]}return b}function R(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Nb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function S(a){K.call(this);this.headers=new P;this.F=a||null;this.c=!1;this.D=this.a=null;this.J=this.o="";this.g=0;this.j="";this.i=this.I=this.m=this.H=!1;this.l=0;this.u=null;this.h=Ob;this.C=this.M=!1}x(S,K);var Ob="",Pb=S.prototype,Qb=Db("goog.net.XhrIo");Pb.b=Qb;var Rb=/^https?$/i,Sb=["POST","PUT"];
function Tb(a,b,c){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.o+"; newUri="+b);a.o=b;a.j="";a.g=0;a.J="POST";a.H=!1;a.c=!0;a.a=a.F?Jb(a.F):Jb(Hb);a.D=a.F?Fb(a.F):Fb(Hb);a.a.onreadystatechange=w(a.K,a);try{O(a.b,T(a,"Opening Xhr")),a.I=!0,a.a.open("POST",String(b),!0),a.I=!1}catch(f){O(a.b,T(a,"Error opening Xhr: "+f.message));Ub(a,f);return}b=c||"";c=new P(a.headers);var d=wa(c.f()),e=p.FormData&&b instanceof p.FormData;!(0<=va(Sb,"POST"))||d||e||c.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");c.forEach(function(a,b){this.a.setRequestHeader(b,a)},a);a.h&&(a.a.responseType=a.h);"withCredentials"in a.a&&a.a.withCredentials!==a.M&&(a.a.withCredentials=a.M);try{Vb(a),0<a.l&&(a.C=Wb(a.a),O(a.b,T(a,"Will abort after "+a.l+"ms if incomplete, xhr2 "+a.C)),a.C?(a.a.timeout=a.l,a.a.ontimeout=w(a.L,a)):a.u=tb(a.L,a.l,a)),O(a.b,T(a,"Sending request")),a.m=!0,a.a.send(b),a.m=!1}catch(f){O(a.b,T(a,"Send error: "+f.message)),Ub(a,f)}}
function Wb(a){return C&&Qa(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}function xa(a){return"content-type"==a.toLowerCase()}S.prototype.L=function(){"undefined"!=typeof n&&this.a&&(this.j="Timed out after "+this.l+"ms, aborting",this.g=8,O(this.b,T(this,this.j)),L(this,"timeout"),this.abort(8))};function Ub(a,b){a.c=!1;a.a&&(a.i=!0,a.a.abort(),a.i=!1);a.j=b;a.g=5;Xb(a);Yb(a)}function Xb(a){a.H||(a.H=!0,L(a,"complete"),L(a,"error"))}
S.prototype.abort=function(a){this.a&&this.c&&(O(this.b,T(this,"Aborting")),this.c=!1,this.i=!0,this.a.abort(),this.i=!1,this.g=a||7,L(this,"complete"),L(this,"abort"),Yb(this))};S.prototype.K=function(){this.G||(this.I||this.m||this.i?Zb(this):this.R())};S.prototype.R=function(){Zb(this)};
function Zb(a){if(a.c&&"undefined"!=typeof n)if(a.D[1]&&4==U(a)&&2==V(a))O(a.b,T(a,"Local request error detected and ignored"));else if(a.m&&4==U(a))tb(a.K,0,a);else if(L(a,"readystatechange"),4==U(a)){O(a.b,T(a,"Request complete"));a.c=!1;try{var b=V(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.o).match(Nb)[1]||null;if(!f&&p.self&&p.self.location){var g=p.self.location.protocol;f=g.substr(0,
g.length-1)}e=!Rb.test(f?f.toLowerCase():"")}d=e}if(d)L(a,"complete"),L(a,"success");else{a.g=6;try{var h=2<U(a)?a.a.statusText:""}catch(k){O(a.b,"Can not get status: "+k.message),h=""}a.j=h+" ["+V(a)+"]";Xb(a)}}finally{Yb(a)}}}function Yb(a){if(a.a){Vb(a);var b=a.a,c=a.D[0]?t:null;a.a=null;a.D=null;L(a,"ready");try{b.onreadystatechange=c}catch(d){(a=a.b)&&a.log(yb,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}
function Vb(a){a.a&&a.C&&(a.a.ontimeout=null);a.u&&(p.clearTimeout(a.u),a.u=null)}function U(a){return a.a?a.a.readyState:0}function V(a){try{return 2<U(a)?a.a.status:-1}catch(b){return-1}}
function $b(a){try{if(!a.a)return null;if("response"in a.a)return a.a.response;switch(a.h){case Ob:case "text":return a.a.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.a)return a.a.mozResponseArrayBuffer}var b=a.b;b&&b.log(yb,"Response type "+a.h+" is not supported on this browser",void 0);return null}catch(c){return O(a.b,"Can not get response: "+c.message),null}}function ac(a,b){if(a.a&&4==U(a))return a=a.a.getResponseHeader(b),null===a?void 0:a}
function bc(a,b){return a.a?a.a.getResponseHeader(b):null}function T(a,b){return b+" ["+a.J+" "+a.o+" "+V(a)+"]"};var W=null,X=null;function cc(a){dc();for(var b=W,c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,F=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|k>>6;k&=63;h||(k=64,f||(g=64));c.push(b[F],b[e],b[g],b[k])}return c.join("")}function ec(a){var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;fc(a,function(a){d[e++]=a});return d.subarray(0,e)}
function fc(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=X[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}dc();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}}
function dc(){if(!W){W={};X={};for(var a=0;65>a;a++)W[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),X[W[a]]=a,62<=a&&(X["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};function Y(a){this.a=a.O;this.f=this.c=this.b=this.i=this.h=null;this.g=0;this.j=new ra;var b=this;gb(this.a,"readystatechange",function(){var a=bc(b.a,"Content-Type");if(a){a=a.toLowerCase();var d=bc(b.a,"grpc-status"),e=bc(b.a,"grpc-message");d&&b.b&&b.b({code:Number(d),details:e||"",metadata:void 0});if(0==a.lastIndexOf("application/grpc-web-text",0)){a=b.a;try{var f=a.a?a.a.responseText:""}catch(k){O(a.b,"Can not get responseText: "+k.message),f=""}a=f.length-f.length%4;f=f.substr(b.g,a-b.g);
if(0==f.length)return;b.g=a;f=ec(f)}else if(0==a.lastIndexOf("application/grpc",0))f=new Uint8Array($b(b.a));else return;if(f=ua(b.j,[].slice.call(f)))for(a=0;a<f.length;a++)if(0 in f[a]&&(d=f[a][0])&&(d=b.h(d))&&b.i(d),128 in f[a]&&0<f[a][128].length){d="";for(e=0;e<f[a][128].length;e++)d+=String.fromCharCode(f[a][128][e]);var g;d=d.trim().split("\r\n");e={};for(g=0;g<d.length;g++){var h=d[g].indexOf(":");e[d[g].substring(0,h).trim()]=d[g].substring(h+1).trim()}g=e;d=0;e="";"grpc-status"in g&&(d=
g["grpc-status"]);"grpc-message"in g&&(e=g["grpc-message"]);b.b&&b.b({code:Number(d),details:e,metadata:g})}4==U(b.a)&&b.f&&b.f()}});gb(this.a,"complete",function(){if(b.c){var a=b.a.g;if(0!=a)b.c({code:14,message:na(a)});else{a={};var d=b.a;d=(d.a&&4==U(d)?d.a.getAllResponseHeaders():"").split("\r\n");for(var e=0;e<d.length;e++)if(!/^[\s\xa0]*$/.test(d[e])){var f=2;for(var g=d[e].split(": "),h=[];0<f&&g.length;)h.push(g.shift()),f--;g.length&&h.push(g.join(": "));f=h;a[f[0]]=a[f[0]]?a[f[0]]+(", "+
f[1]):f[1]}"grpc-status"in a&&0!=Number(ac(b.a,"grpc-status"))&&b.c({code:Number(ac(b.a,"grpc-status")),message:ac(b.a,"grpc-message")})}}})}Y.prototype.B=function(a,b){"data"==a?this.i=b:"status"==a?this.b=b:"end"==a?this.f=b:"error"==a&&(this.c=b);return this};Y.prototype.on=Y.prototype.B;Y.prototype.cancel=function(){this.a.abort()};Y.prototype.cancel=Y.prototype.cancel;function gc(a){var b="";Aa(a,function(a,d){b+=d;b+=":";b+=a;b+="\r\n"});return b}function hc(a,b){a:{for(c in b){var c=!1;break a}c=!0}if(c)return a;c=gc(b);if(q(a)){b=encodeURIComponent("$httpHeaders");c=null!=c?"="+encodeURIComponent(String(c)):"";if(b+=c){c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;a=a[0]+(a[1]?"?"+a[1]:"")+a[2]}return a}a.a("$httpHeaders",c);return a};function Z(a){this.a=r("format",a)||"text";this.b=r("suppressCorsPreflight",a)||!1}
Z.prototype.N=function(a,b,c,d,e){var f=new S,g=new Y({O:f});g.h=d.b;g.B("data",function(a){e(null,a)});g.B("status",function(a){0!=a.code&&e({code:a.code,message:a.details},null)});g.B("error",function(a){0!=a.code&&e({code:a.code,message:a.message},null)});Kb(f.headers,c);ic(this,f);this.b&&(c=Mb(f.headers),Lb(f.headers),a=hc(a,c));b=d.a(b);b=jc(b);"text"==this.a?b=cc(b):"binary"==this.a&&(f.h="arraybuffer");Tb(f,a,b);return g};Z.prototype.rpcCall=Z.prototype.N;
Z.prototype.U=function(a,b,c,d){var e=this;return new Promise(function(f,g){e.N(a,b,c,d,function(a,b){a?g(a):f(b)})})};Z.prototype.unaryCall=Z.prototype.U;Z.prototype.S=function(a,b,c,d){var e=new S,f=new Y({O:e});f.h=d.b;Kb(e.headers,c);ic(this,e);this.b&&(c=Mb(e.headers),Lb(e.headers),a=hc(a,c));b=d.a(b);b=jc(b);"text"==this.a?b=cc(b):"binary"==this.a&&(e.h="arraybuffer");Tb(e,a,b);return f};Z.prototype.serverStreaming=Z.prototype.S;
function jc(a){for(var b=a.length,c=[0,0,0,0],d=new Uint8Array(5+b),e=3;0<=e;e--)c[e]=b%256,b>>>=8;d.set(new Uint8Array(c),1);d.set(a,5);return d}
function ic(a,b){"text"==a.a?(b.headers.set("Content-Type","application/grpc-web-text"),b.headers.set("Accept","application/grpc-web-text")):b.headers.set("Content-Type","application/grpc-web+proto");b.headers.set("X-User-Agent","grpc-web-javascript/0.1");b.headers.set("X-Grpc-Web","1");if(R(b.headers.b,"deadline")){a=b.headers.get("deadline");a=Math.round(a-(new Date).getTime());var c=b.headers;R(c.b,"deadline")&&(delete c.b.deadline,c.c--,c.a.length>2*c.c&&Q(c));0<a&&b.headers.set("grpc-timeout",
a+"m")}};var kc=module.exports;kc.AbstractClientBase={MethodInfo:function(a,b,c){this.a=b;this.b=c}};kc.GrpcWebClientBase=Z;kc.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15};
